<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Title</title>
        <style>
            *{
                margin: 0;padding: 0;
            }
            #div1{
                width: 50px;height: 50px;
                position: absolute;
                left: 0;
                top: 80px;
                background-color: red;
            }
        </style>
        <script>
            /*
                运动框架：
                    1.每次启动定时器之前，先将上一次的定时器关闭
                    2.if...else将运动和停止分开

                缓冲运动
                    var speed = (iTarget - iCur) / 8;
                    speed = speed > 0 ? Math.ceil(speed) : Math.floor(speed);
             */
            window.onload = function (){
                var oBtn = document.getElementById("btn1");
                var oDiv = document.getElementById("div1");

                var speed = 7;
                var timer = null;
                oBtn.onclick = function (){
                    clearInterval(timer);
                   timer = setInterval(function (){
                        if (oDiv.offsetLeft >= 500){
                            clearInterval(timer);
                        }else {
                            oDiv.style.left = oDiv.offsetLeft + speed + "px";
                        }
                    },30);
                }
            }
        </script>
    </head>
    <body>
        <button id="btn1">开始运动</button>
        <div id="div1"></div>
    </body>
</html>